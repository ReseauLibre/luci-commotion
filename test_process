* Downloaded all (listed) the openwrt repos from github:
avahi-client
commotion-debug-helper
commotion-openwrt
luci-commotion
luci-commotion-quickstart
luci-theme-commotion
serval-crypto
commotiond
commotion-feed
commotion-service-manager
luci-commotion-apps
luci-commotion-splash
nm-dispatcher-olsrd
serval-dna
commotion-dashboard-helper
commotion-mesh-applet
commotion-site-theme
luci-commotion-linux
luci-i18n-commotion
olsrd

* Gathered the current master commotion-feed repo:

# cat commotion-openwrt/feeds.conf |grep commotion\-feed
src-git commotion git://github.com/opentechinstitute/commotion-feed.git

As it is unspecified it is using master.

* Collected the current package version from all packages in commotion-feed.
NOTE: luci-commotion-linux was not modified as we are not sure when we will be moving away from its current self-contained fork of LuCI form. 

# grep -r PKG_VERSION\: *
commotion-debug-helper/Makefile:PKG_VERSION:=1.0
commotion-feed/packages/luci-commotion-splash/Makefile:PKG_VERSION:=master
commotion-feed/packages/luci-commotion-quickstart/Makefile:PKG_VERSION:=0.2
commotion-feed/packages/commotiond/Makefile:PKG_VERSION:=master
commotion-feed/packages/ldns/Makefile:PKG_VERSION:=1.6.16
commotion-feed/packages/serval-crypto/Makefile:PKG_VERSION:=2.0
commotion-feed/packages/luci-commotion/Makefile:PKG_VERSION:=master
commotion-feed/packages/commotion-debug-helper/Makefile:PKG_VERSION:=master
commotion-feed/packages/olsrd/Makefile:PKG_VERSION:=0.6.5.4-$(COMMOTION_VERSION)
commotion-feed/packages/luci-theme-commotion/Makefile:PKG_VERSION:=master
commotion-feed/packages/commotion-dashboard-helper/Makefile:PKG_VERSION:=master
commotion-feed/packages/commotion/Makefile:PKG_VERSION:=master
commotion-feed/packages/luci-i18n-commotion/Makefile:PKG_VERSION:=master
commotion-feed/packages/luci-commotion-apps/Makefile:PKG_VERSION:=master
commotion-feed/packages/serval-dna/Makefile:PKG_VERSION:=batphone-release-0.90

NOTE: some packages had their own makefiles specified in various directories (see below)
luci-commotion-apps/openwrt/Makefile:PKG_VERSION:=1.0
luci-commotion-splash/openwrt/Makefile:PKG_VERSION:=master
luci-theme-commotion/Makefile:PKG_VERSION:=1.0
olsrd/openwrt/commotion/Makefile:PKG_VERSION:=0.6.5
olsrd/openwrt/olsrd-stable-git/Makefile:PKG_VERSION:=$(shell date +%Y%m%d)+$(shell git --git-dir=$(CURDIR)/../../.git log -1 --pretty=%h)
serval-crypto/openwrt/Makefile:PKG_VERSION:=2.1
serval-dna/openwrt/packages/serval-dna/Makefile:PKG_VERSION:=2012-10-29

* Set all packages with Lua files to current git revision

commotion-dashboard-helper =master
commotion-debug-helper =master
luci-commotion =master
luci-commotion-apps =master
luci-commotion-linux = master
luci-commotion-quickstart =0.2
luci-commotion-splash =master
luci-theme-commotion =master

* get original function names from commotion_helpers.lua file (removing all anonymous functions used in other functions)

#grep -o "function \(.*\)" commotion_helpers.lua 

function DIE(str)
function check_https(node, env)
function ssl_cert_fingerprints()
function uci_encode(str)
function html_encode(str)
function url_encode(str)
function printf(tmpl,t)
function log(msg)
function is_ip4addr(str)
function is_ip4addr_cidr(str)
function is_ssid(str)
function is_mode(str)
function is_chan(str)
function is_bitRate(br)
function is_email(email)
function is_hostname(str)
function is_fqdn(str)
function is_macaddr(str)
function is_uint(str)
function is_hex(str)
function is_port(str)
function table.contains(table, element)
function list_ifaces()

* Identify any use of the existing functions in other files along with the line used.

getFunc.sh

#!/bin/bash

functions=("DIE" "check_https" "ssl_cert_fingerprints" "uci_encode" "html_encode" "url_encode" "printf" "log" "is_ip4addr" "is_ip4addr_cidr" "is_ssid" "is_mode" "is_chan" "is_bitRate" "is_email" "is_hostname" "is_fqdn" "is_macaddr" "is_uint" "is_hex" "is_port" "contains" "list_ifaces" )

for i in "${functions[@]}"
do
    echo "* $i \n" >> ../code
    grep -rn "$i(" * |grep lua\|htm >> ../code
done

NOTE: at this point there are 332 captures.

* create branch off of current HEAD titled issue_30 in each repo

* Go in and actually implement the fixes for all the code....
1/3 in and I hate everyone and everything right now.

Changes implemented in repo's:

commotion-dashboard-helper
luci-commotion-quickstart
luci-theme-commotion
luci-commotion-apps
luci-commotion-splash
luci-commotion
commotion-debug-helper

* search for the use of require "commotion_helpers" in packages to remove dead requirement link.

* create a package in commotion-feed
* test that package compiles correctly
* test each issue_30 branch to ensure that all fixes work.
